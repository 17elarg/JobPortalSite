<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="data.mapper.PositionMapper">

	<!-- 유저 id에 해당하는 Offer 전체 갯수 -->
	<select id="getTotalOffers" parameterType="String" resultType="int">
		select count(*) from offer where user_id=#{myid}
	</select>


	<!-- 유저 id에 해당하는 Offer 정보 전체 -->
	<!-- !!!조인문 작성완료!!! -->
	<select id="getAllOffers" parameterType="String" resultType="odto">
		select
		offer.user_id as user_id,
		offer.company_id as company_id,
		offer.content as content,
		company.name as name,
		company.major as major
		from offer join company on offer.company_id=company.id
	</select>
	
	
	<!-- 이런공고는 어떠신가요? 랜덤출력 -->
	<select id="getRndList" resultType="comdto">
		select * from company order by rand()
	</select>
	
	
	<!-- Offer 삭제 -->
	<delete id="deleteOffer" parameterType="String">
		delete from offer where company_id=#{company_id}
	</delete>
	
	
	<!-- 하나의 파라미터 -->
	<select id="getOffer" parameterType="HashMap" resultType="badto">
		select * from boardanswer where idx=#{idx}
	</select>
</mapper>