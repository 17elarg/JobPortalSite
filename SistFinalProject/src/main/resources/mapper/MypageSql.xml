<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="data.mapper.MypageMapper">

<!-- 개인-이력서 시작 -->
<insert id="insertMypageResume" parameterType="resumedto">
	insert into resume (user_id,name,birth,photo,gender,email,hp,highschool,college,career,activity,
	license,portfolio,military,introduce,job,addr)
	values (#{user_id},#{name},#{birth},#{photo},#{gender},#{email},#{hp},#{highschool},#{college},
	#{career},#{activity},#{license},#{portfolio},#{military},#{introduce},#{job},#{addr})
</insert>

<select id="getMypageResume" parameterType="String" resultType="resumedto">
	select * from resume where user_id=#{user_id}
</select>

<!-- user_id,name,birth,photo,gender,email,hp,highschool,college,career,activity,license,portfolio,military,introduce,job -->
<update id="updateMypageResume" parameterType="resumedto">
	update resume set highschool=#{highschool},college=#{college},career=#{career},activity=#{activity},license=#{license},
	military=#{military},introduce=#{introduce},job=#{job}
	<!-- photo, portfolio 파일 수정 -->
	<!-- <if test="uploadfile!=null">
	,uploadfile=#{uploadfile}
	</if> -->
	where user_id=#{user_id}	
</update>

<select id="checkResume" parameterType="String" resultType="int">
	select count(*) from resume where user_id=#{user_id}
</select>
<!-- 개인-이력서 끝 -->

<!-- 기업-공고 시작-->
<insert id="insertMypageNotice" parameterType="ndto">
	insert into notice (company_id,subject,section,personnel,type,location,task,qualification,preference,
	period_start,period_end)
	values (#{company_id},#{subject},#{section},#{personnel},#{type},#{location},#{task},#{qualification},#{preference},
	#{period_start},#{period_end})
</insert>

<select id="getNoticeCountByCompany" parameterType="String" resultType="int">
	select count(*) from notice where company_id=#{company_id}
</select>

<update id="updateMypageNotice" parameterType="ndto">
	update notice set subject=#{subject},section=#{section},personnel=#{personnel},type=#{type},
	location=#{location},task=#{task},qualification=#{qualification},preference=#{preference},
	period_start=#{period_start},period_end=#{period_end} where num=#{num}	
</update>

<!-- 기업-공고 끝-->


<!-- 

<select id="getTotalCount" resultType="int">
	select count(*) from springboard
</select>

<select id="getData" parameterType="String" resultType="bdto">
	select * from springboard where num=#{num}
</select>

<select id="getMaxNum" resultType="int">
	select ifnull(max(num),0) from springboard
</select>

<select id="getList" parameterType="HashMap" resultType="bdto">
	select * from springboard order by num desc limit #{start},#{perpage}
</select>

<insert id="insertBoard" parameterType="bdto">
	insert into springboard (myid,subject,content,uploadfile,writeday) values (#{myid},#{subject},#{content},#{uploadfile},now())
</insert>

<update id="updateBoard" parameterType="bdto">
	update springboard set subject=#{subject},content=#{content}
	<if test="uploadfile!=null">
	,uploadfile=#{uploadfile}
	</if>
	where num=#{num}	
</update>

<delete id="deleteBoard" parameterType="String">
	delete from springboard where num=#{num}
</delete>



 -->


</mapper>